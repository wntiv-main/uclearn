{
	"name": "uclearn",
	"type": "commonjs",
	"scripts": {
		"dev": "export UCLEARN_DEBUG=1 && run-s clean:dev dev:static dev:watchers",
		"dev:static": "cmd /C \"mklink /J build src\\static & mklink /J build\\highlight.js node_modules\\highlight.js\\styles & mklink /J build\\pyright node_modules\\@typefox\\pyright-browser\\dist\" && cd node_modules/typeshed/stdlib && bestzip ../../../build/python-stdlib.zip ./* --level 0 && cd ../../..",
		"dev:watchers": "run-p -r -l dev:scripts dev:hydration-worker dev:lsp-worker dev:css",
		"dev:scripts": "mkdir build/built && bun build --outdir=build/built src/index.ts --env \"UCLEARN_*\" --watch",
		"dev:hydration-worker": "bun build --outfile=build/hydration-worker.js src/hydration-worker/index.ts --env \"UCLEARN_*\" --watch",
		"dev:lsp-worker": "bun build --outfile=build/lsp-worker.js src/lsp-worker/index.ts --env \"UCLEARN_*\" --watch",
		"dev:css": "bun lightningcss --bundle src/css/index.css -o build/index.css && bun onchange src/css/*.css -- lightningcss --bundle src/css/index.css -o build/index.css",
		"build": "export UCLEARN_DEBUG=0 UCLEARN_DEBUG_FLAGS= && run-s clean:dev clean:build bundle build:scripts build:hydration-worker build:lsp-worker build:css",
		"build:scripts": "mkdir dist/built && bun build --outdir=dist/built src/index.ts --drop=DOMInspector --drop=console --env \"UCLEARN_*\" --minify",
		"build:hydration-worker": "bun build --outfile=dist/hydration-worker.js src/hydration-worker/index.ts --drop=console --env \"UCLEARN_*\" --minify",
		"build:lsp-worker": "bun build --outfile=dist/lsp-worker.js src/lsp-worker/index.ts --drop=console --env \"UCLEARN_*\" --minify",
		"build:css": "bun lightningcss --minify --bundle src/css/index.css -o dist/index.css",
		"bundle": "mkdir dist && cp -R src/static/* dist && mkdir dist/highlight.js && mkdir dist/pyright && cmd /C \"xcopy /s node_modules\\highlight.js\\styles dist\\highlight.js & xcopy /s node_modules\\@typefox\\pyright-browser\\dist dist\\pyright\" && cd node_modules/typeshed/stdlib && bestzip ../../../dist/python-stdlib.zip ./* --level 9 && cd ../../..",
		"clean:build": "rm -r -f dist",
		"clean:dev": "(rm -r -f src/static/built src/static/python-stdlib.zip src/static/hydration-worker.js src/static/lsp-worker.js src/static/index.css || true) && cmd /C \"rd src\\static\\highlight.js & rd src\\static\\pyright & rd build\" || true"
	},
	"devDependencies": {
		"@trevorhanus/mathquill-types": "https://github.com/trevorhanus/mathquill-types",
		"@types/bun": "latest",
		"@types/requirejs": "^2.1.37",
		"ace": "git://github.com/ajaxorg/ace.git#v1.4.13",
		"bestzip": "^2.2.1",
		"lightningcss-cli": "^1.29.1",
		"npm-run-all": "^4.1.5",
		"onchange": "^7.1.0"
	},
	"peerDependencies": {
		"typescript": "^5.0.0"
	},
	"dependencies": {
		"@typefox/pyright-browser": "^1.1.299",
		"@types/jquery": "^3.5.31",
		"@types/js-beautify": "^1.14.3",
		"@types/mathjax": "^0.0.40",
		"@types/video.js": "^7.3.58",
		"@types/yui": "^3.14.31",
		"ace-linters": "^1.4.1",
		"ace-python-ruff-linter": "^1.0.2",
		"asciimath": "^0.0.0",
		"constrained-editor-plugin": "^1.3.0",
		"highlight.js": "^11.10.0",
		"js-beautify": "^1.15.1",
		"jszip": "^3.10.1",
		"mathlive": "^0.103.0",
		"typeshed": "https://github.com/python/typeshed",
		"vscode-languageserver-protocol": "^3.17.5"
	},
	"patchedDependencies": {
		"asciimath@0.0.0": "patches/asciimath@0.0.0.patch",
		"@types/mathjax@0.0.40": "patches/@types%2Fmathjax@0.0.40.patch",
		"@types/yui@3.14.31": "patches/@types%2Fyui@3.14.31.patch"
	}
}
